{% extends 'books/base.html' %}
{% load static %}

{% block content %}
    <div class="row justify-content-center">
        <div class="col-md-4">
            <div class="">
                <!-- Go back to previous page in history if go back button is pressed -->
                <button onclick="history.back()" class="my-3 btn btn-dark btn-sm">Go Back</button>
            </div>
            <div style="height: 90vh">
                {% if book.image %}
                    <img class="img-fluid text-center" style="max-width: 100%; max-height: 100%; object-fit: contain;" src="{{ book.image.url }}" alt="{{ book.title }}">
                {% else %}
                    <img class="img-fluid text-center" style="max-width: 100%; max-height: 100%;" src="/static/images/placeholder.png" alt="No image available">
                {% endif %}
                <h3 class="mt-3">{{ book.title }}</h3>
                <h5 class="text-muted">Author: {{ book.author }}</h5>
                <small><strong>Genre:</strong> {{ book.get_genre_display }}</small><br>
                <small><strong>Rating:</strong> {{ book.rating }}/5 ‚≠ê</small><br>
                {% if book.date_finished %}
                    <small><strong>Date Finished:</strong> {{ book.date_finished|date:"F d, Y" }}</small><br>
                {% endif %}
                <div class="mt-3">
                    <strong>Review:</strong>
                    <p>{{ book.review }}</p>
                </div>
                {% if book.purchase_link %}
                    <a target="_blank" rel="noopener noreferrer" href="{{ book.purchase_link }}" class="btn btn-primary btn-sm">Purchase Book</a>
                {% endif %}
                <a href="{% url 'edit-book' book.id %}" class="btn btn-success btn-sm">Edit Book</a>
                <a href="{% url 'delete-book' book.id %}" class="btn btn-danger btn-sm">Delete Book</a>

            </div>
        </div>
    </div>
{% endblock %}
